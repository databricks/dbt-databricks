version: 2

models:
  - name: table_model
    config:
      contract:
        enforced: true
    constraints:
      - type: check
        name: id_greater_than_zero
        expression: id > 0
        columns: [id]
    columns:
      - name: id
        data_type: int
      - name: name
        data_type: string
        constraints:
          - type: not_null
      - name: date
        data_type: string

  - name: incremental_model
    constraints:
      - type: check
        name: id_greater_than_zero
        columns: [id]
        expression: id > 0
    columns:
      - name: id
        data_type: int
      - name: name
        data_type: string
        constraints: 
          - type: not_null
      - name: date
        data_type: string

  - name: invalid_check_constraint
    constraints:
      - type: check
        name: invalid_constraint
        columns: []
        condition:

  - name: invalid_column_constraint
    columns:
      - name: id
        data_type: int
        constraints: 
          - type: check
            expression: invalid
      - name: name
        data_type: string
      - name: date
        data_type: string


  - name: table_model_disable_constraints
    constraints:
      - type: check
        name: id_greater_than_zero
        exprssion: id > 0
        columns: [id]
    columns:
      - name: id
        data_type: int
      - name: name
        data_type: string
        constraints
          - type: not_null
      - name: date
        data_type: string

  - name: table_model_contract
    config:
      contract:
        enforced: true
    columns:
      - name: id
        data_type: int
      - name: name
        data_type: string
      - name: date    
        data_type: date    